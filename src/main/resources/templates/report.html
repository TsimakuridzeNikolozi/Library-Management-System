<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="Report"></title>
    <!-- Include Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
<div th:insert="navbar.html"></div>
<div class="container mt-5">
    <h1 class="mb-5">Report</h1>

    <!-- Overdue Loans Table -->
    <h2 style="color: #e56a6a">Overdue Books<span class="material-symbols-outlined">schedule</span></h2>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Patron</th>
            <th>Book</th>
            <th>Loan Date</th>
            <th>Due Date</th>
        </tr>
        </thead>
        <tbody>
        <!-- Dummy Rows for Overdue Loans -->
        <tr th:each="bookLoan : ${overdueBookLoans}">
            <td th:text="${bookLoan.patron.firstName + ' ' + bookLoan.patron.lastName}"></td>
            <td th:text="${bookLoan.book.title}"></td>
            <td th:text="${bookLoan.loanDate}"></td>
            <td th:text="${bookLoan.dueDate}"></td>
        </tr>
        </tbody>
    </table>

    <!-- History Table -->
    <h2>History<span class="material-symbols-outlined">receipt_long</span></h2>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Patron</th>
            <th>Book</th>
            <th>Loan Date</th>
            <th>Due Date</th>
        </tr>
        </thead>
        <tbody>
        <!-- Dummy Rows for History -->
        <tr th:each="bookLoan : ${transactionHistory}">
            <td th:text="${bookLoan.patron.firstName + ' ' + bookLoan.patron.lastName}"></td>
            <td th:text="${bookLoan.book.title}"></td>
            <td th:text="${bookLoan.loanDate}"></td>
            <td th:text="${bookLoan.dueDate}"></td>
        </tr>
        </tbody>
    </table>

    <a class="btn btn-primary" th:href="@{/book-loans}">Go Back</a>
</div>

<!-- Include Bootstrap JS and jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha384-KyZXEAg3QhqLMpG8r+Knujsl5/zfU5bBu7L3v5z5F5uXn5z5T5G5K5U5T5V5U5T5T5B" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-vB3fGOFJz6v5t4g3/z5IoS5wP5g1JjrDMfNkX8A4w5gF5KI5mGj/uDcFZ2JwNvZf" crossorigin="anonymous"></script>

</body>
</html>
